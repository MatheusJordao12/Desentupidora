<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlumbPro - Service Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <style>
        .sidebar-item:hover .sidebar-icon {
            transform: translateX(3px);
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { motion, AnimatePresence } = window.Motion;

        function App() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
            const [darkMode, setDarkMode] = useState(false);

            useEffect(() => {
                AOS.init();
                lucide.createIcons();
            }, []);

            const toggleDarkMode = () => {
                setDarkMode(!darkMode);
                document.body.classList.toggle('dark');
            };

            const tabs = [
                { id: 'dashboard', name: 'Dashboard', icon: 'layout-dashboard' },
                { id: 'service-calls', name: 'Service Calls', icon: 'wrench' },
                { id: 'technician-schedule', name: 'Schedule', icon: 'calendar' },
                { id: 'sales-quotes', name: 'Sales & Quotes', icon: 'file-text' },
                { id: 'finance', name: 'Finance', icon: 'dollar-sign' },
                { id: 'inventory', name: 'Inventory', icon: 'package' },
                { id: 'reports', name: 'Reports', icon: 'bar-chart-2' },
                { id: 'customer-portal', name: 'Customer Portal', icon: 'users' }
            ];

            return (
                <div className={`flex h-screen ${darkMode ? 'dark bg-gray-900' : 'bg-gray-50'}`}>
                    {/* Sidebar */}
                    <div className={`hidden md:flex flex-col w-64 ${darkMode ? 'bg-gray-800' : 'bg-white'} border-r ${darkMode ? 'border-gray-700' : 'border-gray-200'} transition-all duration-300`}>
                        <div className="flex items-center justify-center h-16 px-4 border-b dark:border-gray-700">
                            <div className="flex items-center">
                                <svg className="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" />
                                </svg>
                                <span className="ml-2 text-xl font-bold dark:text-white">PlumbPro</span>
                            </div>
                        </div>
                        <div className="flex flex-col flex-grow p-4 overflow-y-auto">
                            <nav className="flex-1 space-y-2">
                                {tabs.map((tab) => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 sidebar-item ${activeTab === tab.id ? (darkMode ? 'bg-blue-600 text-white' : 'bg-blue-100 text-blue-700') : (darkMode ? 'text-gray-300 hover:bg-gray-700' : 'text-gray-600 hover:bg-gray-100')}`}
                                    >
                                        <i data-feather={tab.icon} className={`w-5 h-5 sidebar-icon transition-transform duration-200 ${activeTab === tab.id ? (darkMode ? 'text-white' : 'text-blue-600') : (darkMode ? 'text-gray-400' : 'text-gray-500')}`}></i>
                                        <span className="ml-3">{tab.name}</span>
                                        {activeTab === tab.id && (
                                            <div className="ml-auto w-2 h-2 rounded-full bg-blue-500"></div>
                                        )}
                                    </button>
                                ))}
                            </nav>
                            <div className="pb-4 mt-auto">
                                <button
                                    onClick={toggleDarkMode}
                                    className={`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${darkMode ? 'bg-gray-700 text-gray-200' : 'bg-gray-100 text-gray-700'}`}
                                >
                                    <i data-feather={darkMode ? 'sun' : 'moon'} className="w-5 h-5"></i>
                                    <span className="ml-3">{darkMode ? 'Light Mode' : 'Dark Mode'}</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Mobile sidebar */}
                    <AnimatePresence>
                        {mobileMenuOpen && (
                            <motion.div
                                initial={{ x: -300 }}
                                animate={{ x: 0 }}
                                exit={{ x: -300 }}
                                transition={{ type: 'spring', stiffness: 300, damping: 30 }}
                                className="fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg md:hidden"
                            >
                                <div className="flex items-center justify-between h-16 px-4 border-b">
                                    <div className="flex items-center">
                                        <svg className="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" />
                                        </svg>
                                        <span className="ml-2 text-xl font-bold">PlumbPro</span>
                                    </div>
                                    <button onClick={() => setMobileMenuOpen(false)} className="p-1 rounded-md text-gray-500 hover:text-gray-700">
                                        <i data-feather="x" className="w-6 h-6"></i>
                                    </button>
                                </div>
                                <div className="p-4 overflow-y-auto h-[calc(100%-4rem)]">
                                    <nav className="space-y-2">
                                        {tabs.map((tab) => (
                                            <button
                                                key={tab.id}
                                                onClick={() => {
                                                    setActiveTab(tab.id);
                                                    setMobileMenuOpen(false);
                                                }}
                                                className={`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${activeTab === tab.id ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'}`}
                                            >
                                                <i data-feather={tab.icon} className="w-5 h-5"></i>
                                                <span className="ml-3">{tab.name}</span>
                                            </button>
                                        ))}
                                    </nav>
                                    <div className="mt-4">
                                        <button
                                            onClick={toggleDarkMode}
                                            className="flex items-center w-full px-4 py-3 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg"
                                        >
                                            <i data-feather={darkMode ? 'sun' : 'moon'} className="w-5 h-5"></i>
                                            <span className="ml-3">{darkMode ? 'Light Mode' : 'Dark Mode'}</span>
                                        </button>
                                    </div>
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>

                    {/* Main content */}
                    <div className="flex flex-col flex-1 overflow-hidden">
                        {/* Top navigation */}
                        <div className={`flex items-center justify-between h-16 px-4 border-b ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>
                            <div className="flex items-center">
                                <button
                                    onClick={() => setMobileMenuOpen(true)}
                                    className="p-2 mr-2 text-gray-500 rounded-md md:hidden hover:text-gray-600 hover:bg-gray-100"
                                >
                                    <i data-feather="menu" className="w-5 h-5"></i>
                                </button>
                                <h1 className="text-lg font-semibold dark:text-white">
                                    {tabs.find(tab => tab.id === activeTab)?.name}
                                </h1>
                            </div>
                            <div className="flex items-center space-x-4">
                                <button className="p-2 text-gray-500 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <i data-feather="bell" className="w-5 h-5"></i>
                                </button>
                                <div className="relative">
                                    <button className="flex items-center space-x-2">
                                        <div className="w-8 h-8 overflow-hidden bg-gray-200 rounded-full">
                                            <img src="http://static.photos/people/200x200/1" alt="User" className="object-cover w-full h-full" />
                                        </div>
                                        <span className="hidden text-sm font-medium md:block dark:text-white">Admin</span>
                                        <i data-feather="chevron-down" className="hidden w-4 h-4 md:block dark:text-gray-300"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Content area */}
                        <div className="flex-1 overflow-auto p-4 dark:bg-gray-900">
                            {activeTab === 'dashboard' && <Dashboard darkMode={darkMode} />}
                            {activeTab === 'service-calls' && <ServiceCalls darkMode={darkMode} />}
                            {activeTab === 'technician-schedule' && <TechnicianSchedule darkMode={darkMode} />}
                            {activeTab === 'sales-quotes' && <SalesQuotes darkMode={darkMode} />}
                            {activeTab === 'finance' && <Finance darkMode={darkMode} />}
                            {activeTab === 'inventory' && <Inventory darkMode={darkMode} />}
                            {activeTab === 'reports' && <Reports darkMode={darkMode} />}
                            {activeTab === 'customer-portal' && <CustomerPortal darkMode={darkMode} />}
                        </div>
                    </div>
                </div>
            );
        }

        function Dashboard({ darkMode }) {
            const stats = [
                { title: "Today's Calls", value: "24", change: "+3", icon: 'phone-call', color: 'bg-blue-100 text-blue-600' },
                { title: "Technicians", value: "8", change: "+1", icon: 'users', color: 'bg-green-100 text-green-600' },
                { title: "Sales", value: "$4,320", change: "+12%", icon: 'dollar-sign', color: 'bg-purple-100 text-purple-600' },
                { title: "Balance", value: "$18,450", change: "-2%", icon: 'credit-card', color: 'bg-yellow-100 text-yellow-600' }
            ];

            const jobs = [
                { id: 1, customer: "John Smith", address: "123 Main St", type: "Clogged Drain", status: "Completed", date: "Today, 10:30 AM" },
                { id: 2, customer: "Sarah Johnson", address: "456 Oak Ave", type: "Leaky Faucet", status: "In Progress", date: "Today, 1:15 PM" },
                { id: 3, customer: "Michael Brown", address: "789 Pine Rd", type: "Water Heater", status: "Waiting", date: "Tomorrow, 9:00 AM" },
                { id: 4, customer: "Emily Davis", address: "321 Elm Blvd", type: "Pipe Repair", status: "Waiting", date: "Tomorrow, 11:30 AM" }
            ];

            return (
                <div>
                    <h2 className="mb-6 text-xl font-semibold dark:text-white">Overview</h2>
                    
                    {/* Stats cards */}
                    <div className="grid gap-6 mb-8 md:grid-cols-2 lg:grid-cols-4">
                        {stats.map((stat, index) => (
                            <motion.div
                                key={index}
                                whileHover={{ y: -5 }}
                                className={`p-6 rounded-xl shadow-sm card-hover transition-all duration-300 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}
                            >
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className={`text-sm font-medium ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>{stat.title}</p>
                                        <p className="mt-2 text-2xl font-semibold dark:text-white">{stat.value}</p>
                                    </div>
                                    <div className={`p-3 rounded-full ${stat.color}`}>
                                        <i data-feather={stat.icon} className="w-6 h-6"></i>
                                    </div>
                                </div>
                                <div className="flex items-center mt-4">
                                    <span className={`text-sm ${parseInt(stat.change) > 0 ? 'text-green-500' : 'text-red-500'}`}>
                                        {stat.change}
                                    </span>
                                    <span className={`ml-1 text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>from yesterday</span>
                                </div>
                            </motion.div>
                        ))}
                    </div>

                    {/* Charts and recent jobs */}
                    <div className="grid gap-6 lg:grid-cols-2">
                        {/* Job status chart */}
                        <div className={`p-6 rounded-xl shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="text-lg font-medium dark:text-white">Job Status</h3>
                                <div className="flex space-x-2">
                                    <button className="px-3 py-1 text-xs rounded-lg bg-blue-100 text-blue-600">Week</button>
                                    <button className={`px-3 py-1 text-xs rounded-lg ${darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600'}`}>Month</button>
                                </div>
                            </div>
                            <div className="h-64">
                                {/* Chart placeholder */}
                                <div className="flex items-center justify-center h-full bg-gray-100 rounded-lg dark:bg-gray-700">
                                    <div className="text-center">
                                        <i data-feather="pie-chart" className="w-12 h-12 mx-auto text-gray-400"></i>
                                        <p className="mt-2 text-gray-500 dark:text-gray-400">Job status chart</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Recent jobs */}
                        <div className={`p-6 rounded-xl shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="text-lg font-medium dark:text-white">Recent Service Calls</h3>
                                <button className="flex items-center text-sm text-blue-500 hover:text-blue-700">
                                    <span>View All</span>
                                    <i data-feather="chevron-right" className="w-4 h-4 ml-1"></i>
                                </button>
                            </div>
                            <div className="space-y-4">
                                {jobs.map((job) => (
                                    <div key={job.id} className="p-4 border rounded-lg dark:border-gray-700">
                                        <div className="flex items-center justify-between">
                                            <div>
                                                <h4 className="font-medium dark:text-white">{job.customer}</h4>
                                                <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>{job.address}</p>
                                            </div>
                                            <span className={`px-2 py-1 text-xs rounded-full ${
                                                job.status === 'Completed' ? 'bg-green-100 text-green-800' :
                                                job.status === 'In Progress' ? 'bg-blue-100 text-blue-800' :
                                                'bg-yellow-100 text-yellow-800'
                                            }`}>
                                                {job.status}
                                            </span>
                                        </div>
                                        <div className="flex items-center justify-between mt-3">
                                            <span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>{job.type}</span>
                                            <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>{job.date}</span>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function ServiceCalls({ darkMode }) {
            const [searchTerm, setSearchTerm] = useState('');
            const [statusFilter, setStatusFilter] = useState('all');
            const [showNewCallModal, setShowNewCallModal] = useState(false);

            const serviceCalls = [
                { id: 1001, customer: "John Smith", phone: "(555) 123-4567", address: "123 Main St", issue: "Clogged kitchen sink", status: "Waiting", date: "2023-06-15", priority: "Medium" },
                { id: 1002, customer: "Sarah Johnson", phone: "(555) 987-6543", address: "456 Oak Ave", issue: "Leaky bathroom faucet", status: "In Progress", date: "2023-06-14", priority: "Low" },
                { id: 1003, customer: "Michael Brown", phone: "(555) 456-7890", address: "789 Pine Rd", issue: "Water heater not working", status: "Completed", date: "2023-06-13", priority: "High" },
                { id: 1004, customer: "Emily Davis", phone: "(555) 789-0123", address: "321 Elm Blvd", issue: "Broken pipe in basement", status: "Waiting", date: "2023-06-16", priority: "High" },
                { id: 1005, customer: "David Wilson", phone: "(555) 234-5678", address: "654 Cedar Ln", issue: "Toilet not flushing", status: "In Progress", date: "2023-06-15", priority: "Medium" },
            ];

            const filteredCalls = serviceCalls.filter(call => {
                const matchesSearch = call.customer.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                     call.address.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                     call.issue.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesStatus = statusFilter === 'all' || call.status === statusFilter;
                return matchesSearch && matchesStatus;
            });

            return (
                <div>
                    <div className="flex flex-col justify-between mb-6 space-y-4 md:flex-row md:space-y-0 md:items-center">
                        <h2 className="text-xl font-semibold dark:text-white">Service Calls</h2>
                        <div className="flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-4">
                            <div className="relative">
                                <div className="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                    <i data-feather="search" className="w-4 h-4 text-gray-400"></i>
                                </div>
                                <input
                                    type="text"
                                    placeholder="Search calls..."
                                    className={`pl-10 pr-4 py-2 border rounded-lg w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                />
                            </div>
                            <select
                                className={`px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                value={statusFilter}
                                onChange={(e) => setStatusFilter(e.target.value)}
                            >
                                <option value="all">All Statuses</option>
                                <option value="Waiting">Waiting</option>
                                <option value="In Progress">In Progress</option>
                                <option value="Completed">Completed</option>
                            </select>
                            <button
                                onClick={() => setShowNewCallModal(true)}
                                className="flex items-center justify-center px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                                <i data-feather="plus" className="w-4 h-4 mr-2"></i>
                                New Call
                            </button>
                        </div>
                    </div>

                    {/* Service calls table */}
                    <div className={`overflow-hidden rounded-xl shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                        <div className="overflow-x-auto">
                            <table className="min-w-full divide-y dark:divide-gray-700">
                                <thead className={darkMode ? 'bg-gray-700' : 'bg-gray-50'}>
                                    <tr>
                                        <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">ID</th>
                                        <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Customer</th>
                                        <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Address</th>
                                        <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Issue</th>
                                        <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Status</th>
                                        <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Date</th>
                                        <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Priority</th>
                                        <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-right uppercase dark:text-gray-300">Actions</th>
                                    </tr>
                                </thead>
                                <tbody className={`divide-y ${darkMode ? 'divide-gray-700 bg-gray-800' : 'divide-gray-200 bg-white'}`}>
                                    {filteredCalls.length > 0 ? (
                                        filteredCalls.map((call) => (
                                            <tr key={call.id} className={darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>
                                                <td className="px-6 py-4 text-sm font-medium dark:text-white">#{call.id}</td>
                                                <td className="px-6 py-4 text-sm dark:text-white">
                                                    <div className="font-medium">{call.customer}</div>
                                                    <div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>{call.phone}</div>
                                                </td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{call.address}</td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{call.issue}</td>
                                                <td className="px-6 py-4 text-sm">
                                                    <span className={`inline-flex px-2 py-1 text-xs font-semibold leading-4 rounded-full ${
                                                        call.status === 'Completed' ? 'bg-green-100 text-green-800' :
                                                        call.status === 'In Progress' ? 'bg-blue-100 text-blue-800' :
                                                        'bg-yellow-100 text-yellow-800'
                                                    }`}>
                                                        {call.status}
                                                    </span>
                                                </td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{call.date}</td>
                                                <td className="px-6 py-4 text-sm">
                                                    <span className={`inline-flex px-2 py-1 text-xs font-semibold leading-4 rounded-full ${
                                                        call.priority === 'High' ? 'bg-red-100 text-red-800' :
                                                        call.priority === 'Medium' ? 'bg-yellow-100 text-yellow-800' :
                                                        'bg-green-100 text-green-800'
                                                    }`}>
                                                        {call.priority}
                                                    </span>
                                                </td>
                                                <td className="px-6 py-4 text-sm font-medium text-right">
                                                    <button className="p-1 text-blue-600 hover:text-blue-900 dark:hover:text-blue-400">
                                                        <i data-feather="edit" className="w-4 h-4"></i>
                                                    </button>
                                                    <button className="p-1 ml-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200">
                                                        <i data-feather="more-vertical" className="w-4 h-4"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        ))
                                    ) : (
                                        <tr>
                                            <td colSpan="8" className="px-6 py-4 text-sm text-center dark:text-white">No service calls found</td>
                                        </tr>
                                    )}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* New call modal */}
                    <AnimatePresence>
                        {showNewCallModal && (
                            <motion.div
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                exit={{ opacity: 0 }}
                                className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"
                            >
                                <motion.div
                                    initial={{ scale: 0.9, y: 20 }}
                                    animate={{ scale: 1, y: 0 }}
                                    exit={{ scale: 0.9, y: 20 }}
                                    className={`relative w-full max-w-md p-6 rounded-lg shadow-lg ${darkMode ? 'bg-gray-800' : 'bg-white'}`}
                                >
                                    <div className="flex items-center justify-between mb-4">
                                        <h3 className="text-lg font-medium dark:text-white">New Service Call</h3>
                                        <button
                                            onClick={() => setShowNewCallModal(false)}
                                            className="p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700"
                                        >
                                            <i data-feather="x" className="w-5 h-5 dark:text-gray-300"></i>
                                        </button>
                                    </div>
                                    <div className="space-y-4">
                                        <div>
                                            <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Customer</label>
                                            <input
                                                type="text"
                                                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                                placeholder="Customer name"
                                            />
                                        </div>
                                        <div>
                                            <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Phone</label>
                                            <input
                                                type="text"
                                                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                                placeholder="Phone number"
                                            />
                                        </div>
                                        <div>
                                            <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Address</label>
                                            <input
                                                type="text"
                                                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                                placeholder="Service address"
                                            />
                                        </div>
                                        <div>
                                            <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Issue</label>
                                            <textarea
                                                rows="3"
                                                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                                placeholder="Describe the issue"
                                            ></textarea>
                                        </div>
                                        <div className="grid grid-cols-2 gap-4">
                                            <div>
                                                <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Priority</label>
                                                <select className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}>
                                                    <option>Low</option>
                                                    <option>Medium</option>
                                                    <option>High</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Date</label>
                                                <input
                                                    type="date"
                                                    className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex justify-end mt-6 space-x-3">
                                        <button
                                            onClick={() => setShowNewCallModal(false)}
                                            className={`px-4 py-2 text-sm font-medium rounded-lg ${darkMode ? 'bg-gray-700 text-white hover:bg-gray-600' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}
                                        >
                                            Cancel
                                        </button>
                                        <button
                                            className="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"
                                        >
                                            Create Call
                                        </button>
                                    </div>
                                </motion.div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </div>
            );
        }

        function TechnicianSchedule({ darkMode }) {
            const [view, setView] = useState('week');
            const [currentDate, setCurrentDate] = useState(new Date());
            const [draggedJob, setDraggedJob] = useState(null);

            const technicians = [
                { id: 1, name: "Mike Johnson", color: "bg-blue-500" },
                { id: 2, name: "Sarah Williams", color: "bg-green-500" },
                { id: 3, name: "David Brown", color: "bg-purple-500" },
                { id: 4, name: "Emily Davis", color: "bg-yellow-500" }
            ];

            const jobs = [
                { id: 1, customer: "John Smith", address: "123 Main St", type: "Clogged Drain", technicianId: 1, date: "2023-06-15", time: "09:00" },
                { id: 2, customer: "Sarah Johnson", address: "456 Oak Ave", type: "Leaky Faucet", technicianId: 2, date: "2023-06-15", time: "10:30" },
                { id: 3, customer: "Michael Brown", address: "789 Pine Rd", type: "Water Heater", technicianId: 3, date: "2023-06-15", time: "13:00" },
                { id: 4, customer: "Emily Davis", address: "321 Elm Blvd", type: "Broken Pipe", technicianId: 1, date: "2023-06-16", time: "11:00" },
                { id: 5, customer: "David Wilson", address: "654 Cedar Ln", type: "Toilet Repair", technicianId: 4, date: "2023-06-16", time: "14:30" }
            ];

            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const hours = Array.from({ length: 10 }, (_, i) => i + 8); // 8AM to 5PM

            const getWeekDates = (date) => {
                const startDate = new Date(date);
                startDate.setDate(date.getDate() - date.getDay());
                return Array.from({ length: 7 }, (_, i) => {
                    const day = new Date(startDate);
                    day.setDate(startDate.getDate() + i);
                    return day;
                });
            };

            const weekDates = getWeekDates(currentDate);

            const handleDragStart = (job) => {
                setDraggedJob(job);
            };

            const handleDrop = (technicianId, date, time) => {
                if (draggedJob) {
                    // In a real app, you would update the job's technician and time here
                    console.log(`Moved job ${draggedJob.id} to ${technicianId} at ${date} ${time}`);
                    setDraggedJob(null);
                }
            };

            return (
                <div>
                    <div className="flex flex-col justify-between mb-6 space-y-4 md:flex-row md:space-y-0 md:items-center">
                        <h2 className="text-xl font-semibold dark:text-white">Technician Schedule</h2>
                        <div className="flex items-center space-x-4">
                            <div className="flex items-center space-x-2">
                                <button
                                    onClick={() => {
                                        const newDate = new Date(currentDate);
                                        newDate.setDate(newDate.getDate() - (view === 'week' ? 7 : 1));
                                        setCurrentDate(newDate);
                                    }}
                                    className="p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700"
                                >
                                    <i data-feather="chevron-left" className="w-5 h-5 dark:text-gray-300"></i>
                                </button>
                                <div className="text-center">
                                    <h3 className="font-medium dark:text-white">
                                        {view === 'week' 
                                            ? `${weekDates[0].toLocaleDateString()} - ${weekDates[6].toLocaleDateString()}`
                                            : currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}
                                    </h3>
                                </div>
                                <button
                                    onClick={() => {
                                        const newDate = new Date(currentDate);
                                        newDate.setDate(newDate.getDate() + (view === 'week' ? 7 : 1));
                                        setCurrentDate(newDate);
                                    }}
                                    className="p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700"
                                >
                                    <i data-feather="chevron-right" className="w-5 h-5 dark:text-gray-300"></i>
                                </button>
                            </div>
                            <div className="flex space-x-2">
                                <button
                                    onClick={() => setView('week')}
                                    className={`px-3 py-1 text-sm rounded-lg ${view === 'week' ? 'bg-blue-100 text-blue-600' : (darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600')}`}
                                >
                                    Week
                                </button>
                                <button
                                    onClick={() => setView('month')}
                                    className={`px-3 py-1 text-sm rounded-lg ${view === 'month' ? 'bg-blue-100 text-blue-600' : (darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600')}`}
                                >
                                    Month
                                </button>
                            </div>
                        </div>
                    </div>

                    {view === 'week' ? (
                        <div className={`rounded-xl shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <div className="overflow-x-auto">
                                <table className="min-w-full divide-y dark:divide-gray-700">
                                    <thead className={darkMode ? 'bg-gray-700' : 'bg-gray-50'}>
                                        <tr>
                                            <th className="w-32 px-4 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Time</th>
                                            {weekDates.map((date, index) => (
                                                <th key={index} className="px-4 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">
                                                    <div className="flex flex-col items-center">
                                                        <span className="text-sm font-medium">{days[date.getDay()]}</span>
                                                        <span className={`text-xs ${date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth() ? 'text-blue-500 font-bold' : (darkMode ? 'text-gray-400' : 'text-gray-500')}`}>
                                                            {date.getDate()} {date.toLocaleDateString('en-US', { month: 'short' })}
                                                        </span>
                                                    </div>
                                                </th>
                                            ))}
                                        </tr>
                                    </thead>
                                    <tbody className={`divide-y ${darkMode ? 'divide-gray-700 bg-gray-800' : 'divide-gray-200 bg-white'}`}>
                                        {hours.map((hour) => (
                                            <tr key={hour} className={darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>
                                                <td className={`px-4 py-2 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                                                    {hour}:00
                                                </td>
                                                {weekDates.map((date, dayIndex) => {
                                                    const dateStr = date.toISOString().split('T')[0];
                                                    const job = jobs.find(j => j.date === dateStr && parseInt(j.time.split(':')[0]) === hour);
                                                    return (
                                                        <td 
                                                            key={dayIndex} 
                                                            className="px-4 py-2"
                                                            onDragOver={(e) => e.preventDefault()}
                                                            onDrop={() => handleDrop(null, dateStr, `${hour}:00`)}
                                                        >
                                                            {job ? (
                                                                <div
                                                                    draggable
                                                                    onDragStart={() => handleDragStart(job)}
                                                                    className={`p-2 text-xs rounded-lg cursor-move ${technicians.find(t => t.id === job.technicianId)?.color} bg-opacity-20`}
                                                                >
                                                                    <div className="font-medium">{job.customer}</div>
                                                                    <div className="text-xs opacity-80">{job.type}</div>
                                                                </div>
                                                            ) : (
                                                                <div className="h-10"></div>
                                                            )}
                                                        </td>
                                                    );
                                                })}
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    ) : (
                        <div className={`p-6 rounded-xl shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <div className="text-center">
                                <i data-feather="calendar" className="w-16 h-16 mx-auto text-gray-400"></i>
                                <p className="mt-4 text-gray-500 dark:text-gray-400">Monthly calendar view</p>
                            </div>
                        </div>
                    )}

                    {/* Technician assignments */}
                    <div className="mt-8">
                        <h3 className="mb-4 text-lg font-medium dark:text-white">Technician Assignments</h3>
                        <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
                            {technicians.map((tech) => (
                                <div key={tech.id} className={`p-4 rounded-lg shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                    <div className="flex items-center">
                                        <div className={`w-3 h-3 rounded-full ${tech.color}`}></div>
                                        <h4 className="ml-2 font-medium dark:text-white">{tech.name}</h4>
                                    </div>
                                    <div className="mt-3 space-y-2">
                                        {jobs.filter(j => j.technicianId === tech.id).map(job => (
                                            <div 
                                                key={job.id}
                                                draggable
                                                onDragStart={() => handleDragStart(job)}
                                                className={`p-2 text-xs rounded-lg cursor-move ${tech.color} bg-opacity-20`}
                                            >
                                                <div className="font-medium">{job.customer}</div>
                                                <div className="text-xs opacity-80">{job.type}</div>
                                                <div className="text-xs opacity-80">{job.date} at {job.time}</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        function SalesQuotes({ darkMode }) {
            const [activeTab, setActiveTab] = useState('quotes');
            const [showNewQuoteModal, setShowNewQuoteModal] = useState(false);

            const quotes = [
                { id: 5001, customer: "John Smith", amount: "$450", status: "Pending", date: "2023-06-10", expiry: "2023-07-10" },
                { id: 5002, customer: "Sarah Johnson", amount: "$320", status: "Accepted", date: "2023-06-05", expiry: "2023-07-05" },
                { id: 5003, customer: "Michael Brown", amount: "$780", status: "Rejected", date: "2023-05-28", expiry: "2023-06-28" },
                { id: 5004, customer: "Emily Davis", amount: "$1,200", status: "Pending", date: "2023-06-12", expiry: "2023-07-12" }
            ];

            const sales = [
                { id: 6001, customer: "John Smith", amount: "$450", status: "Paid", date: "2023-06-15", invoice: "INV-2023-015" },
                { id: 6002, customer: "Sarah Johnson", amount: "$320", status: "Paid", date: "2023-06-08", invoice: "INV-2023-014" },
                { id: 6003, customer: "David Wilson", amount: "$890", status: "Pending", date: "2023-06-18", invoice: "INV-2023-016" },
                { id: 6004, customer: "Lisa Thompson", amount: "$1,050", status: "Paid", date: "2023-06-05", invoice: "INV-2023-013" }
            ];

            return (
                <div>
                    <div className="flex flex-col justify-between mb-6 space-y-4 md:flex-row md:space-y-0 md:items-center">
                        <h2 className="text-xl font-semibold dark:text-white">Sales & Quotes</h2>
                        <div className="flex items-center space-x-4">
                            <div className="flex space-x-2">
                                <button
                                    onClick={() => setActiveTab('quotes')}
                                    className={`px-4 py-2 text-sm font-medium rounded-lg ${activeTab === 'quotes' ? 'bg-blue-100 text-blue-600' : (darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600')}`}
                                >
                                    Quotes
                                </button>
                                <button
                                    onClick={() => setActiveTab('sales')}
                                    className={`px-4 py-2 text-sm font-medium rounded-lg ${activeTab === 'sales' ? 'bg-blue-100 text-blue-600' : (darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600')}`}
                                >
                                    Sales
                                </button>
                            </div>
                            <button
                                onClick={() => setShowNewQuoteModal(true)}
                                className="flex items-center justify-center px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                                <i data-feather="plus" className="w-4 h-4 mr-2"></i>
                                New Quote
                            </button>
                        </div>
                    </div>

                    {activeTab === 'quotes' ? (
                        <div className={`rounded-xl shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <div className="overflow-x-auto">
                                <table className="min-w-full divide-y dark:divide-gray-700">
                                    <thead className={darkMode ? 'bg-gray-700' : 'bg-gray-50'}>
                                        <tr>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Quote #</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Customer</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Amount</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Status</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Date</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Expiry</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-right uppercase dark:text-gray-300">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody className={`divide-y ${darkMode ? 'divide-gray-700 bg-gray-800' : 'divide-gray-200 bg-white'}`}>
                                        {quotes.map((quote) => (
                                            <tr key={quote.id} className={darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>
                                                <td className="px-6 py-4 text-sm font-medium dark:text-white">#{quote.id}</td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{quote.customer}</td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{quote.amount}</td>
                                                <td className="px-6 py-4 text-sm">
                                                    <span className={`inline-flex px-2 py-1 text-xs font-semibold leading-4 rounded-full ${
                                                        quote.status === 'Accepted' ? 'bg-green-100 text-green-800' :
                                                        quote.status === 'Rejected' ? 'bg-red-100 text-red-800' :
                                                        'bg-yellow-100 text-yellow-800'
                                                    }`}>
                                                        {quote.status}
                                                    </span>
                                                </td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{quote.date}</td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{quote.expiry}</td>
                                                <td className="px-6 py-4 text-sm font-medium text-right">
                                                    <button className="p-1 text-blue-600 hover:text-blue-900 dark:hover:text-blue-400">
                                                        <i data-feather="edit" className="w-4 h-4"></i>
                                                    </button>
                                                    <button className="p-1 ml-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200">
                                                        <i data-feather="more-vertical" className="w-4 h-4"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    ) : (
                        <div className={`rounded-xl shadow-sm ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                            <div className="overflow-x-auto">
                                <table className="min-w-full divide-y dark:divide-gray-700">
                                    <thead className={darkMode ? 'bg-gray-700' : 'bg-gray-50'}>
                                        <tr>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Invoice #</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Customer</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Amount</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Status</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-left uppercase dark:text-gray-300">Date</th>
                                            <th scope="col" className="px-6 py-3 text-xs font-medium tracking-wider text-right uppercase dark:text-gray-300">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody className={`divide-y ${darkMode ? 'divide-gray-700 bg-gray-800' : 'divide-gray-200 bg-white'}`}>
                                        {sales.map((sale) => (
                                            <tr key={sale.id} className={darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>
                                                <td className="px-6 py-4 text-sm font-medium dark:text-white">{sale.invoice}</td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{sale.customer}</td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{sale.amount}</td>
                                                <td className="px-6 py-4 text-sm">
                                                    <span className={`inline-flex px-2 py-1 text-xs font-semibold leading-4 rounded-full ${
                                                        sale.status === 'Paid' ? 'bg-green-100 text-green-800' :
                                                        'bg-yellow-100 text-yellow-800'
                                                    }`}>
                                                        {sale.status}
                                                    </span>
                                                </td>
                                                <td className="px-6 py-4 text-sm dark:text-white">{sale.date}</td>
                                                <td className="px-6 py-4 text-sm font-medium text-right">
                                                    <button className="p-1 text-blue-600 hover:text-blue-900 dark:hover:text-blue-400">
                                                        <i data-feather="printer" className="w-4 h-4"></i>
                                                    </button>
                                                    <button className="p-1 ml-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200">
                                                        <i data-feather="more-vertical" className="w-4 h-4"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}

                    {/* New quote modal */}
                    <AnimatePresence>
                        {showNewQuoteModal && (
                            <motion.div
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                exit={{ opacity: 0 }}
                                className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"
                            >
                                <motion.div
                                    initial={{ scale: 0.9, y: 20 }}
                                    animate={{ scale: 1, y: 0 }}
                                    exit={{ scale: 0.9, y: 20 }}
                                    className={`relative w-full max-w-md p-6 rounded-lg shadow-lg ${darkMode ? 'bg-gray-800' : 'bg-white'}`}
                                >
                                    <div className="flex items-center justify-between mb-4">
                                        <h3 className="text-lg font-medium dark:text-white">New Quote</h3>
                                        <button
                                            onClick={() => setShowNewQuoteModal(false)}
                                            className="p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700"
                                        >
                                            <i data-feather="x" className="w-5 h-5 dark:text-gray-300"></i>
                                        </button>
                                    </div>
                                    <div className="space-y-4">
                                        <div>
                                            <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Customer</label>
                                            <select className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}>
                                                <option>Select customer</option>
                                                <option>John Smith</option>
                                                <option>Sarah Johnson</option>
                                                <option>Michael Brown</option>
                                                <option>Emily Davis</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Service</label>
                                            <select className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}>
                                                <option>Select service</option>
                                                <option>Drain Cleaning</option>
                                                <option>Pipe Repair</option>
                                                <option>Water Heater Installation</option>
                                                <option>Faucet Repair</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Amount</label>
                                            <input
                                                type="text"
                                                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                                placeholder="$0.00"
                                            />
                                        </div>
                                        <div>
                                            <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Description</label>
                                            <textarea
                                                rows="3"
                                                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                                placeholder="Service details"
                                            ></textarea>
                                        </div>
                                        <div className="grid grid-cols-2 gap-4">
                                            <div>
                                                <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Expiry Date</label>
                                                <input
                                                    type="date"
                                                    className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}
                                                />
                                            </div>
                                            <div>
                                                <label className={`block mb-1 text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Technician</label>
                                                <select className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}>
                                                    <option>Select technician</option>
                                                    <option>Mike Johnson</option>
                                                    <option>Sarah Williams</option>
                                                    <option>David Brown</option>
                                                    <option>Emily Davis</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex justify-end mt-6 space-x-3">
                                        <button
                                            onClick={() => setShowNewQuoteModal(false)}
                                            className={`px-4 py-2 text-sm font-medium rounded-lg ${darkMode ? 'bg-gray-700 text-white hover:bg-gray-600' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}
                                        >
                                            Cancel
                                        </button>
                                        <button
                                            className="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"
                                        >
                                            Create Quote
                                        </button>
                                    </div>
                                </motion.div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </div>
            );
        }

        function Finance({ darkMode }) {
            const [timeRange, setTimeRange] = useState('month');
            const [showTransactionModal, setShowTransactionModal] = useState(false);
        }

            const transactions = [
                { id: 1, date: "2023-06-15", description: "Service call #1001", amount: "$450", type: "income", category: "Service" },
                { id: 2, date: "2023-06-14", description: "Pipe supplies", amount: "$120", type: "expense", category: "Materials" },
                { id: 3, date: "2023-06-10", description: "Service call #1002", amount: "$320", type: "income", category: "Service" },
                { id: 4, date: "2023-06-08", description: "Technician salary", amount: "$2,500", type: "expense", category: "Payroll" },
                { id: 5, date: "2023-06-05", description: "Service call #1003", amount: "$780", type: "income", category: "Service" }
            ];

            const summary = {
                income: "$5,420",
                expenses: "$3,150",
                balance: "$2,270"
            };

            return (
                <div>
                    <div className="flex flex-col justify-between mb-6 space-y-4 md:flex-row md:space-y-0 md:items-center">
                        <h2 className="text-xl font-semibold dark:text-white">Finance</h2>
                        <div className="flex space-x-2">
                            <button
                                onClick={() => setTimeRange('week')}
                                className={`px-3 py-1 text-sm rounded-lg ${timeRange === 'week' ? 'bg-blue-100 text-blue-600' : (darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600')}`}
                            >
                                Week
                            </button>
                            <button
                                onClick={() => setTimeRange('month')}
                                className={`px-3 py-1 text-sm rounded-lg ${timeRange === 'month' ? 'bg-blue-100 text-blue-600' : (darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600')}`}
                            >
                                Month
                            </button>
                            <button
                                onClick={() => setTimeRange('year')}
                                className={`px-3 py-1 text-sm rounded-lg ${timeRange === 'year' ? 'bg-blue-100 text-blue-600' : (darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600')}`}
                            >
                                Year
                            </button>
                            <button
                                onClick={() => setShowTransactionModal(true)}
                                className="flex items-center justify-center px-4 py-1 text-sm text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                                <i data-feather="plus" className="w-4 h-4 mr-1"></i>
                                Add
                            </button>
                        </div>
                    </div>

                    {/* Summary cards */}
                    <div className="grid gap-6 mb-8 md:grid-cols-3">
                        <motion.div
                            whileHover={{ y: -5 }}
                            className={`p-6 rounded-xl shadow-sm card-hover transition-all duration-300 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}
                        >
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className={`text-sm font-medium ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Income</p>
                                    <p className="mt-2 text-2xl font-semibold text-green-600">{summary.income}</p>
                                </div>
                                <div className="p-3 rounded-full bg-green-100 text-green-600">
                                    <i data-feather="dollar-sign" className="w-6 h-6"></i>
                                </div>
                            </div>
                            <div className="flex items-center mt-4">
                                <span className="text-sm text-green-500">+12%</span>
                                <span className={`ml-1 text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>from last {timeRange}</span>
                            </div>
                        </motion.div>

                        <motion.div
                            whileHover={{ y: -5 }}
                            className={`p-6 rounded-xl shadow-sm card-hover transition-all duration-300 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}
                        >
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className={`text-sm font-medium ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Expenses</p>
                                    <p className="mt-2 text-2xl font-semibold text-red-600">{summary.expenses}</p>
                                </div>
                                <div className="p-3 rounded-full bg-red-100 text-red-600">
                                    <i data-feather="credit-card" className="w-6 h-6"></i>
                                </div>
                            </div>
                            <div className="flex items-center mt-4">
                                <span className="text-sm text-red-500">+5%</span>
                                <span className={`ml-1 text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>from last {timeRange}</span>
                            </div>
                        </motion.div>

                        <motion.div
                            whileHover={{ y: -5 }}
                            className={`p-6 rounded-xl shadow-sm card-hover transition-all duration-300 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}
                        >
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className={`text-sm font-medium ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Balance</p>
                                    <p className="mt-2 text-2xl font-semibold text-blue-600">{summary.balance}</p>
                                </div>
                                <div className="p-3 rounded-full bg-blue-100 text-blue-600">
                                    <i data-feather="trending-up" className="w-6 h-6"></i>
                                </div>
                            </div>
                            <div className="flex items-center mt-4">
                                <span className="text-sm text-green-500">+7%</span>
                                <span className={`ml-1 text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>from last {timeRange}</span>
                            </div>
                        </motion.div>
                    </div>

                    {/* Cash flow chart */}
                    <div className={`p-6 mb-8 rounded-xl ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                        <div className="flex items-center justify-center h-64">
                            <div className="text-center">
                                <i data-feather="bar-chart-2" className="w-16 h-16 mx-auto text-gray-400"></i>
                                <p className="mt-4 text-gray-500 dark:text-gray-400">Cash flow chart placeholder</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        
        ReactDOM.render(<App />, document.getElementById('root'));  
</script>
</body>
</html>